(()=>{var e={};e.id=610,e.ids=[610],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3585:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=t(7808),a=t(91),n=t(5497),l=t.n(n),o=t(3319),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(s,i);let c=["",{children:["threads",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1203)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/threads/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6707)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,3762)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,1395)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/not-found.tsx"]}],d=["/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/threads/page.tsx"],m="/threads/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/threads/page",pathname:"/threads",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4724:(e,s,t)=>{Promise.resolve().then(t.bind(t,4114))},4114:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g,dynamic:()=>f});var r=t(6252),a=t(7568),n=t(7937),l=t(319),o=t(2879),i=t(5041),c=t(7240),d=t(6129),m=t(8980),x=t(4359),u=t(9574);let h=(0,t(903).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var p=t(8639);let f="force-dynamic";function g(){let e=(0,l.useRouter)(),{data:s,isLoading:t,error:a,refetch:u}=(0,n.a)({queryKey:["threads"],queryFn:()=>o.h.getThreads(50)}),h=s?.data||[],p=async()=>{await u()};return a?(0,r.jsxs)("div",{className:"flex flex-col h-screen",children:[r.jsx("header",{className:"bg-card border-b border-border p-4 safe-area-top",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(d.Z,{className:"h-6 w-6 text-primary mr-2"}),r.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Threads"})]})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[r.jsx(m.Z,{className:"h-12 w-12 text-destructive mb-4"}),r.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2",children:"Connection Error"}),r.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Unable to load threads. Check your connection and try again."}),r.jsx("button",{onClick:()=>u(),className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg touch-target",children:"Retry"})]}),r.jsx(i.K,{})]}):(0,r.jsxs)("div",{className:"flex flex-col h-screen",children:[r.jsx("header",{className:"bg-card border-b border-border p-4 safe-area-top",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(d.Z,{className:"h-6 w-6 text-primary mr-2"}),r.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Threads"})]}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[h.length," ",1===h.length?"thread":"threads"]})]})}),r.jsx(c.t,{onRefresh:p,children:r.jsx("div",{className:"p-4 pb-20",children:t?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(x.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===h.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[r.jsx(d.Z,{className:"h-16 w-16 text-muted-foreground mb-4"}),r.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2",children:"No threads yet"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Threads are created when you start sessions or continue conversations with Amp."}),r.jsx("button",{onClick:()=>e.push("/sessions/new"),className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg touch-target font-medium",children:"Start a Session"})]}):r.jsx("div",{className:"space-y-3",children:h.map(e=>r.jsx(j,{thread:e},e.id))})})}),r.jsx(i.K,{})]})}function j({thread:e}){let s={active:u.Z,completed:h,error:m.Z}[e.status]||u.Z,t=new Date(e.lastMessageAt).toLocaleDateString();return r.jsx(a.default,{href:`/threads/${e.id}`,className:"block mobile-tap",children:(0,r.jsxs)("div",{className:"bg-card rounded-lg border border-border p-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-sm font-semibold text-foreground truncate",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center mt-1 space-x-2 text-xs text-muted-foreground",children:[r.jsx(s,{className:"h-3 w-3"}),r.jsx("span",{className:(0,p.W)("font-medium","active"===e.status&&"text-blue-600","completed"===e.status&&"text-green-600","error"===e.status&&"text-red-600"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]}),r.jsx("span",{className:"text-xs text-muted-foreground flex-shrink-0 ml-2",children:t})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(d.Z,{className:"h-3 w-3 mr-1"}),e.messageCount," message",1!==e.messageCount?"s":""]}),e.model&&r.jsx("span",{className:"font-mono text-xs bg-muted px-2 py-0.5 rounded",children:e.model})]})]})})}},7240:(e,s,t)=>{"use strict";t.d(s,{t:()=>o});var r=t(6252),a=t(5706);let n=(0,t(903).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var l=t(8639);function o({onRefresh:e,children:s,threshold:t=80}){let o=(0,a.useRef)(null),[i,c]=(0,a.useState)(0),[d,m]=(0,a.useState)(!1),[x,u]=(0,a.useState)(0),h=(0,a.useRef)(!1),p=(0,a.useCallback)(async()=>{if(!d){m(!0);try{await e()}finally{m(!1),c(0)}}},[e,d]);(0,a.useCallback)(e=>{let s=o.current;s&&0===s.scrollTop&&(u(e.touches[0].clientY),h.current=!0)},[]),(0,a.useCallback)(e=>{if(!h.current||d)return;let s=o.current;if(!s||s.scrollTop>0){h.current=!1,c(0);return}let r=Math.max(0,e.touches[0].clientY-x);if(r>0){e.preventDefault();let s=Math.min(r/t,1);c(Math.min(r*(1-.5*s),1.5*t))}},[x,t,d]),(0,a.useCallback)(()=>{h.current&&(h.current=!1,i>=t&&!d?p():c(0))},[i,t,d,p]);let f=Math.min(i/t,1),g=i>0||d;return(0,r.jsxs)("div",{ref:o,className:"flex-1 overflow-auto mobile-scroll",children:[r.jsx("div",{className:(0,l.W)("flex items-center justify-center transition-all duration-200",g?"opacity-100":"opacity-0"),style:{height:Math.max(i,d?60:0),transform:`translateY(${d?0:-20}px)`},children:(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[r.jsx(n,{className:(0,l.W)("h-5 w-5 text-muted-foreground transition-transform duration-200",(d||f>=1)&&"animate-spin"),style:{transform:`rotate(${180*f}deg)`}}),r.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:d?"Refreshing...":f>=1?"Release to refresh":"Pull to refresh"})]})}),r.jsx("div",{style:{transform:`translateY(${i}px)`,transition:h.current?"none":"transform 0.3s ease"},children:s})]})}},8980:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(903).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},4359:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(903).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1203:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,dynamic:()=>a});var r=t(2579);let a=(0,r.createProxy)(String.raw`/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/threads/page.tsx#dynamic`),n=(0,r.createProxy)(String.raw`/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/threads/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[124,814,937,753],()=>t(3585));module.exports=r})();