(()=>{var e={};e.id=636,e.ids=[636],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8667:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(7808),a=r(91),o=r(5497),n=r.n(o),i=r(3319),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["sessions",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1901)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/sessions/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6707)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,3762)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,1395)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/not-found.tsx"]}],c=["/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/sessions/new/page.tsx"],m="/sessions/new/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/sessions/new/page",pathname:"/sessions/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},884:(e,t,r)=>{Promise.resolve().then(r.bind(r,6333))},983:(e,t,r)=>{Promise.resolve().then(r.bind(r,9889))},204:(e,t,r)=>{Promise.resolve().then(r.bind(r,2341))},1950:(e,t,r)=>{Promise.resolve().then(r.bind(r,3273))},6744:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,7390,23)),Promise.resolve().then(r.t.bind(r,339,23)),Promise.resolve().then(r.t.bind(r,5712,23)),Promise.resolve().then(r.t.bind(r,7032,23)),Promise.resolve().then(r.t.bind(r,3808,23)),Promise.resolve().then(r.t.bind(r,5638,23))},6333:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(6252);function a({error:e,reset:t}){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx("h1",{className:"text-4xl font-bold text-destructive mb-2",children:"Error"}),s.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Something went wrong"}),s.jsx("button",{onClick:()=>t(),className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg",children:"Try Again"})]})}r(5706)},9889:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(6252),a=r(6314),o=r.n(a);r(7201);var n=r(5706),i=r.n(n),l=r(2589);let d=new(r(6639)).S({defaultOptions:{queries:{staleTime:3e5,retry:(e,t)=>!(t&&"object"==typeof t&&"message"in t&&t.message.includes("HTTP 4"))&&e<3,refetchOnWindowFocus:!1,refetchOnMount:!0},mutations:{retry:!1}}});function c({children:e}){let[t,r]=i().useState(!1);return t?(0,s.jsxs)(l.aH,{client:d,children:[e,!1]}):s.jsx(s.Fragment,{children:e})}var m=r(5902);function u({children:e,...t}){let[r,a]=n.useState(!1);return(n.useEffect(()=>{a(!0)},[]),r)?s.jsx(m.f,{...t,children:e}):s.jsx(s.Fragment,{children:e})}function p({children:e}){return s.jsx(u,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:s.jsx(c,{children:e})})}var h=r(7987);function x({children:e,fallback:t=null}){let[r,a]=(0,n.useState)(!1);return r?s.jsx(s.Fragment,{children:e}):s.jsx(s.Fragment,{children:t})}function f({children:e}){return(0,s.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,s.jsxs)("head",{children:[s.jsx("title",{children:"Amp Session Manager"}),s.jsx("meta",{name:"description",content:"Mobile interface for managing Amp coding sessions"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover"}),s.jsx("meta",{name:"theme-color",content:"#000000"}),s.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),s.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),s.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),s.jsx("meta",{name:"apple-mobile-web-app-title",content:"AmpSM"}),s.jsx("meta",{name:"format-detection",content:"telephone=no"}),s.jsx("link",{rel:"icon",href:"/favicon.ico"}),s.jsx("link",{rel:"apple-touch-icon",href:"/icon-192x192.png"}),s.jsx("link",{rel:"manifest",href:"/manifest.json"})]}),s.jsx("body",{className:o().className,children:s.jsx(x,{fallback:s.jsx("div",{className:"flex flex-col min-h-screen bg-background",children:s.jsx("main",{className:"flex-1 safe-area-inset mobile-scroll",children:s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"})})})}),children:(0,s.jsxs)(p,{children:[s.jsx("div",{className:"flex flex-col min-h-screen bg-background",children:s.jsx("main",{className:"flex-1 safe-area-inset mobile-scroll",children:e})}),s.jsx(h.x,{})]})})})]})}},2341:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(6252);function a(){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"404"}),s.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Page not found"}),s.jsx("button",{onClick:()=>window.history.back(),className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg",children:"Go Back"})]})}},3273:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>O,dynamic:()=>P});var s=r(6252),a=r(5706),o=r(319),n=r(7937),i=r(3987),l=r(1761),d=r(8523),c=r(3874),m=class extends d.l{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,c.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,c.Ym)(t.mutationKey)!==(0,c.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#a(),this.#o()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#a(){let e=this.#r?.state??(0,i.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#o(e){l.Vr.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},u=r(2589),p=r(56),h=r(7399),x=r(903);let f=(0,x.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),b=(0,x.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var g=r(2879);let y=(0,x.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),j=(0,x.Z)("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);var v=r(6277);let w=(0,x.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var N=r(8927),k=r(8639);function C({onSelect:e,selectedRepo:t}){let[r,o]=(0,a.useState)(""),[i,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1),{data:m,isLoading:u}=(0,n.a)({queryKey:["repositories"],queryFn:()=>g.h.getRepositories()}),p=(m?.data||[]).filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.path.toLowerCase().includes(r.toLowerCase())),h=async()=>{if(i.trim())try{let t=await g.h.cloneRepository(i.trim());t.success&&t.data&&(e(t.data),l(""),c(!1))}catch(e){console.error("Failed to clone repository:",e)}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search repositories...",value:r,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground touch-target"})]}),(0,s.jsxs)("button",{onClick:()=>c(!d),className:"w-full flex items-center justify-center py-3 border border-border rounded-lg touch-target mobile-tap bg-muted/50 hover:bg-muted",children:[s.jsx(j,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Clone from GitHub"})]}),d&&(0,s.jsxs)("div",{className:"space-y-3 p-3 border border-border rounded-lg bg-muted/30",children:[s.jsx("input",{type:"url",placeholder:"https://github.com/username/repository",value:i,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 rounded border border-border bg-background text-foreground placeholder:text-muted-foreground"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:h,disabled:!i.trim(),className:"flex-1 bg-primary text-primary-foreground py-2 rounded touch-target disabled:opacity-50 disabled:cursor-not-allowed",children:"Clone Repository"}),s.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-border rounded touch-target bg-background",children:"Cancel"})]})]})]}),s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto mobile-scroll",children:u?(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full mx-auto mb-2"}),"Loading repositories..."]}):0===p.length?(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(v.Z,{className:"h-12 w-12 mx-auto mb-2"}),s.jsx("p",{children:"No repositories found"}),r&&s.jsx("p",{className:"text-sm mt-1",children:"Try a different search term"})]}):p.map(r=>s.jsx("button",{onClick:()=>e(r),className:(0,k.W)("w-full text-left p-3 rounded-lg border transition-colors touch-target mobile-tap",t?.path===r.path?"border-primary bg-primary/10":"border-border bg-card hover:bg-muted/50"),children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center mb-1",children:[s.jsx(v.Z,{className:"h-4 w-4 mr-2 text-muted-foreground"}),s.jsx("h3",{className:"font-medium text-foreground truncate",children:r.name}),r.hasRemote&&s.jsx(w,{className:"h-3 w-3 ml-1 text-muted-foreground"})]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate mb-2",children:r.path}),r.isGitRepo&&(0,s.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[s.jsx(N.Z,{className:"h-3 w-3 mr-1"}),s.jsx("span",{children:r.branch}),r.lastCommit&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:"•"}),s.jsx("span",{className:"truncate",children:r.lastCommit.message.length>40?r.lastCommit.message.substring(0,40)+"...":r.lastCommit.message})]})]})]}),t?.path===r.path&&s.jsx("div",{className:"h-4 w-4 rounded-full bg-primary flex-shrink-0 ml-2"})]})},r.path))})]})}var S=r(7987);let P="force-dynamic";function O(){let e=(0,o.useRouter)(),[t,r]=(0,a.useState)("repo"),[i,d]=(0,a.useState)({name:"",prompt:"",baseBranch:"main",scriptCommand:"",modelOverride:"",notes:""}),{data:x}=(0,n.a)({queryKey:["configs"],queryFn:()=>g.h.getConfigs()}),y=x?.data||[],j=function(e,t){let r=(0,u.NL)(void 0),[s]=a.useState(()=>new m(r,e));a.useEffect(()=>{s.setOptions(e)},[s,e]);let o=a.useSyncExternalStore(a.useCallback(e=>s.subscribe(l.Vr.batchCalls(e)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),n=a.useCallback((e,t)=>{s.mutate(e,t).catch(c.ZT)},[s]);if(o.error&&(0,c.L3)(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:n,mutateAsync:o.mutate}}({mutationFn:e=>g.h.createSession(e),onSuccess:t=>{t.success?((0,S.A)({type:"success",title:"Session created",description:"Your new session is ready to begin."}),e.push(`/sessions/${t.data.id}`)):(0,S.A)({type:"error",title:"Creation failed",description:t.error||"Failed to create session"})},onError:e=>{(0,S.A)({type:"error",title:"Creation failed",description:e.message})}}),v=async()=>{if(!i.repo||!i.prompt.trim())return;let e={name:i.name.trim()||`Session for ${i.repo.name}`,ampPrompt:i.prompt.trim(),repoRoot:i.repo.path,baseBranch:i.baseBranch.trim()||"main",scriptCommand:i.scriptCommand.trim()||void 0,modelOverride:i.modelOverride.trim()||void 0,notes:i.notes.trim()||void 0};j.mutate(e)},w=e=>{d(t=>({...t,config:e,baseBranch:e.baseBranch,scriptCommand:e.scriptCommand||"",modelOverride:"default"!==e.model?e.model:""}))},N=e=>{switch(e){case"repo":return!!i.repo;case"config":return!0;case"prompt":return i.prompt.trim().length>0;default:return!1}};return(0,s.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,s.jsxs)("header",{className:"bg-card border-b border-border p-4 safe-area-top",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("button",{onClick:()=>{"config"===t?r("repo"):"prompt"===t?r("config"):e.back()},className:"flex items-center text-muted-foreground hover:text-foreground touch-target",children:[s.jsx(p.Z,{className:"h-5 w-5 mr-1"}),"Back"]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(h.Z,{className:"h-5 w-5 text-primary mr-2"}),s.jsx("h1",{className:"text-lg font-semibold",children:"New Session"})]}),s.jsx("div",{className:"w-16"})," "]}),s.jsx("div",{className:"flex items-center mt-4 space-x-2",children:["repo","config","prompt"].map((e,r)=>{let a=t===e,o=["repo","config","prompt"].indexOf(t)>r,n=N(e);return(0,s.jsxs)("div",{className:"flex items-center flex-1",children:[s.jsx("div",{className:(0,k.W)("w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium",o?"bg-primary text-primary-foreground":a&&n?"bg-primary text-primary-foreground":a?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:o?s.jsx(f,{className:"h-4 w-4"}):r+1}),s.jsx("div",{className:(0,k.W)("flex-1 h-0.5 ml-2",r<2&&(o||a&&n)?"bg-primary":"bg-border")})]},e)})}),(0,s.jsxs)("div",{className:"flex mt-2 text-xs",children:[s.jsx("div",{className:"flex-1 text-center",children:"Repository"}),s.jsx("div",{className:"flex-1 text-center",children:"Configuration"}),s.jsx("div",{className:"flex-1 text-center",children:"Prompt"})]})]}),(0,s.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto mobile-scroll",children:["repo"===t&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Select Repository"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose a local repository or clone one from GitHub."})]}),s.jsx(C,{onSelect:e=>d(t=>({...t,repo:e})),selectedRepo:i.repo})]}),"config"===t&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Configuration"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Set up your session configuration or choose from saved presets."})]}),y.length>0&&(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-medium text-foreground",children:"Saved Configurations"}),s.jsx("div",{className:"space-y-2",children:y.map(e=>s.jsx("button",{onClick:()=>w(e),className:(0,k.W)("w-full text-left p-3 rounded-lg border transition-colors touch-target mobile-tap",i.config?.id===e.id?"border-primary bg-primary/10":"border-border bg-card hover:bg-muted/50"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-medium",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.model," • ",e.baseBranch]})]}),i.config?.id===e.id&&s.jsx(f,{className:"h-4 w-4 text-primary"})]})},e.id))})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-medium text-foreground",children:"Manual Configuration"}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Base Branch"}),s.jsx("input",{type:"text",value:i.baseBranch,onChange:e=>d(t=>({...t,baseBranch:e.target.value})),placeholder:"main",className:"w-full px-3 py-2 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground touch-target"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Test Command (Optional)"}),s.jsx("input",{type:"text",value:i.scriptCommand,onChange:e=>d(t=>({...t,scriptCommand:e.target.value})),placeholder:"npm test",className:"w-full px-3 py-2 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground touch-target"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Model Override (Optional)"}),s.jsx("input",{type:"text",value:i.modelOverride,onChange:e=>d(t=>({...t,modelOverride:e.target.value})),placeholder:"claude-3-5-sonnet",className:"w-full px-3 py-2 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground touch-target"})]})]})]}),"prompt"===t&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Session Prompt"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Describe what you want Amp to work on in this repository."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Session Name (Optional)"}),s.jsx("input",{type:"text",value:i.name,onChange:e=>d(t=>({...t,name:e.target.value})),placeholder:`Session for ${i.repo?.name||"repository"}`,className:"w-full px-3 py-2 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground touch-target"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Prompt ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx("textarea",{value:i.prompt,onChange:e=>d(t=>({...t,prompt:e.target.value})),placeholder:"Add user authentication to the application using JWT tokens...",rows:8,className:"w-full px-3 py-2 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground resize-none touch-target"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Be specific about what you want to implement, fix, or improve."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Notes (Optional)"}),s.jsx("textarea",{value:i.notes,onChange:e=>d(t=>({...t,notes:e.target.value})),placeholder:"Additional context or requirements...",rows:3,className:"w-full px-3 py-2 rounded-lg border border-border bg-background text-foreground placeholder:text-muted-foreground resize-none touch-target"})]})]})]}),s.jsx("div",{className:"border-t border-border p-4 safe-area-bottom",children:"prompt"===t?(0,s.jsxs)("button",{onClick:v,disabled:!N(t)||j.isPending,className:"w-full bg-primary text-primary-foreground py-3 rounded-lg touch-target font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[j.isPending?s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary-foreground border-t-transparent rounded-full mr-2"}):s.jsx(f,{className:"h-4 w-4 mr-2"}),"Create Session"]}):(0,s.jsxs)("button",{onClick:()=>{"repo"===t&&i.repo?r("config"):"config"===t&&r("prompt")},disabled:!N(t),className:"w-full bg-primary text-primary-foreground py-3 rounded-lg touch-target font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:["Continue",s.jsx(b,{className:"h-4 w-4 ml-2"})]})})]})}},7987:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,x:()=>c});var s=r(6252),a=r(5706),o=r(9628),n=r(8639);let i=[],l=[];function d(e){let t=Math.random().toString(36),r={id:t,...e};i=[...i,r],l.forEach(e=>e([...i])),0!==e.duration&&setTimeout(()=>{i=i.filter(e=>e.id!==t),l.forEach(e=>e([...i]))},e.duration||5e3)}function c(){let[e,t]=(0,a.useState)([]);return s.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 safe-area-bottom",children:s.jsx("div",{className:"space-y-2",children:e.map(e=>s.jsx("div",{className:(0,n.W)("rounded-lg border p-4 shadow-lg animate-slide-up","bg-card text-card-foreground",{"border-green-200 bg-green-50 text-green-900 dark:border-green-800 dark:bg-green-950 dark:text-green-100":"success"===e.type,"border-red-200 bg-red-50 text-red-900 dark:border-red-800 dark:bg-red-950 dark:text-red-100":"error"===e.type,"border-yellow-200 bg-yellow-50 text-yellow-900 dark:border-yellow-800 dark:bg-yellow-950 dark:text-yellow-100":"warning"===e.type}),children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[e.title&&s.jsx("h4",{className:"text-sm font-semibold mb-1",children:e.title}),e.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),s.jsx("button",{onClick:()=>{i=i.filter(t=>t.id!==e.id),l.forEach(e=>e([...i]))},className:"ml-2 touch-target flex-shrink-0 rounded-md p-1 hover:bg-muted",children:s.jsx(o.Z,{className:"h-4 w-4"})})]})},e.id))})})}},2879:(e,t,r)=>{"use strict";r.d(t,{h:()=>o});let s=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3000";class a{constructor(e=s){this.baseUrl=e}async request(e,t={}){let r=`${this.baseUrl}${e}`,s={headers:{"Content-Type":"application/json",...t.headers},...t};try{let e=await fetch(r,s);if(!e.ok){let t=await e.text();throw Error(`HTTP ${e.status}: ${t}`)}return{data:await e.json(),success:!0}}catch(t){return console.error(`API request failed: ${e}`,t),{data:null,success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async health(){return this.request("/health")}async getSessions(){return this.request("/api/v1/sessions")}async getSession(e){return this.request(`/api/v1/sessions/${e}`)}async createSession(e){return this.request("/api/v1/sessions",{method:"POST",body:JSON.stringify(e)})}async iterateSession(e,t){return this.request(`/api/v1/sessions/${e}/iterate`,{method:"POST",body:JSON.stringify(t)})}async abortSession(e){return this.request(`/api/v1/sessions/${e}/abort`,{method:"POST"})}async mergeSession(e){return this.request(`/api/v1/sessions/${e}/merge`,{method:"POST"})}async getSessionDiff(e,t="text"){return this.request(`/api/v1/sessions/${e}/diff?format=${t}`)}async getThreads(e){let t=e?`?limit=${e}`:"";return this.request(`/api/v1/threads${t}`)}async getThreadMessages(e){return this.request(`/api/v1/threads/${e}/messages`)}async addThreadMessage(e,t){return this.request(`/api/v1/threads/${e}/messages`,{method:"POST",body:JSON.stringify(t)})}async getRepositories(){return this.request("/api/v1/repos")}async scanRepositories(e){return this.request("/api/v1/repos/scan",{method:"POST",body:JSON.stringify({roots:e})})}async cloneRepository(e,t){return this.request("/api/v1/repos/clone",{method:"POST",body:JSON.stringify({url:e,path:t})})}async getConfigs(){return this.request("/api/v1/configs")}}let o=new a},56:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(903).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6277:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(903).Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},8927:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(903).Z)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},7399:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(903).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},319:(e,t,r)=>{"use strict";var s=r(1563);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},3762:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2579).createProxy)(String.raw`/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/error.tsx#default`)},6707:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2579).createProxy)(String.raw`/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/layout.tsx#default`)},1395:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2579).createProxy)(String.raw`/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/not-found.tsx#default`)},1901:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,dynamic:()=>a});var s=r(2579);let a=(0,s.createProxy)(String.raw`/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/sessions/new/page.tsx#dynamic`),o=(0,s.createProxy)(String.raw`/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/sessions/new/page.tsx#default`)},7201:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[124,937],()=>r(8667));module.exports=s})();