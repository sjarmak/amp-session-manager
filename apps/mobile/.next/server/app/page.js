(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(7808),a=r(91),n=r(5497),l=r.n(n),i=r(3319),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,387)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6707)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,3762)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,1395)),"/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/not-found.tsx"]}],d=["/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/page.tsx"],m="/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8979:(e,t,r)=>{Promise.resolve().then(r.bind(r,698))},698:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j,dynamic:()=>b});var s=r(6252),a=r(7937),n=r(319),l=r(2879),i=r(7568),o=r(8639),c=r(8980),d=r(8927);let m=(0,r(903).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var x=r(9574);function u({status:e}){return(0,s.jsxs)("span",{className:(0,o.W)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",{"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100":"idle"===e,"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100":"running"===e,"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100":"awaiting-input"===e,"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100":"error"===e,"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":"done"===e}),children:["running"===e&&s.jsx("div",{className:"animate-pulse-soft mr-1.5 h-2 w-2 rounded-full bg-current"}),"error"===e&&s.jsx(c.Z,{className:"mr-1 h-3 w-3"}),e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")]})}function p({session:e}){let t=e.repoRoot.split("/").pop()||"Unknown",r=new Date(e.lastRun||e.createdAt).toLocaleDateString(),a=e.iterations?.length||0;return s.jsx(i.default,{href:`/sessions/${e.id}`,className:"block mobile-tap",children:(0,s.jsxs)("div",{className:"bg-card rounded-lg border border-border p-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm font-semibold text-foreground truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 flex items-center",children:[s.jsx(d.Z,{className:"h-3 w-3 mr-1"}),t]})]}),s.jsx(u,{status:e.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:e.ampPrompt}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(m,{className:"h-3 w-3 mr-1"}),r]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(x.Z,{className:"h-3 w-3 mr-1"}),a," iteration",1!==a?"s":""]})]}),e.baseBranch&&s.jsx("div",{className:"mt-2 pt-2 border-t border-border",children:(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Branch: ",s.jsx("code",{className:"font-mono",children:e.branchName||e.baseBranch})]})})]})})}var h=r(7240),f=r(5041),g=r(7399),y=r(4359);let b="force-dynamic";function j(){let e=(0,n.useRouter)(),{data:t,isLoading:r,error:i,refetch:o}=(0,a.a)({queryKey:["sessions"],queryFn:()=>l.h.getSessions()}),d=t?.data||[],m=async()=>{await o()};return i?(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:[s.jsx(c.Z,{className:"h-12 w-12 text-destructive mb-4"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2",children:"Connection Error"}),s.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"Unable to connect to the Amp server. Make sure the server is running and accessible."}),s.jsx("button",{onClick:()=>o(),className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg touch-target",children:"Retry"}),s.jsx(f.K,{})]}):(0,s.jsxs)("div",{className:"flex flex-col h-screen",children:[s.jsx("header",{className:"bg-card border-b border-border p-4 safe-area-top",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(g.Z,{className:"h-6 w-6 text-primary mr-2"}),s.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Sessions"})]})}),s.jsx(h.t,{onRefresh:m,children:s.jsx("div",{className:"p-4 pb-20",children:r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(y.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===d.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(g.Z,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-lg font-semibold text-foreground mb-2",children:"No sessions yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Create your first Amp session to get started with AI-powered coding."}),s.jsx("button",{onClick:()=>e.push("/sessions/new"),className:"bg-primary text-primary-foreground px-6 py-3 rounded-lg touch-target font-medium",children:"Create Session"})]}):s.jsx("div",{className:"space-y-3",children:d.map(e=>s.jsx(p,{session:e},e.id))})})}),s.jsx(f.K,{})]})}},7240:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var s=r(6252),a=r(5706);let n=(0,r(903).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var l=r(8639);function i({onRefresh:e,children:t,threshold:r=80}){let i=(0,a.useRef)(null),[o,c]=(0,a.useState)(0),[d,m]=(0,a.useState)(!1),[x,u]=(0,a.useState)(0),p=(0,a.useRef)(!1),h=(0,a.useCallback)(async()=>{if(!d){m(!0);try{await e()}finally{m(!1),c(0)}}},[e,d]);(0,a.useCallback)(e=>{let t=i.current;t&&0===t.scrollTop&&(u(e.touches[0].clientY),p.current=!0)},[]),(0,a.useCallback)(e=>{if(!p.current||d)return;let t=i.current;if(!t||t.scrollTop>0){p.current=!1,c(0);return}let s=Math.max(0,e.touches[0].clientY-x);if(s>0){e.preventDefault();let t=Math.min(s/r,1);c(Math.min(s*(1-.5*t),1.5*r))}},[x,r,d]),(0,a.useCallback)(()=>{p.current&&(p.current=!1,o>=r&&!d?h():c(0))},[o,r,d,h]);let f=Math.min(o/r,1),g=o>0||d;return(0,s.jsxs)("div",{ref:i,className:"flex-1 overflow-auto mobile-scroll",children:[s.jsx("div",{className:(0,l.W)("flex items-center justify-center transition-all duration-200",g?"opacity-100":"opacity-0"),style:{height:Math.max(o,d?60:0),transform:`translateY(${d?0:-20}px)`},children:(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[s.jsx(n,{className:(0,l.W)("h-5 w-5 text-muted-foreground transition-transform duration-200",(d||f>=1)&&"animate-spin"),style:{transform:`rotate(${180*f}deg)`}}),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:d?"Refreshing...":f>=1?"Release to refresh":"Pull to refresh"})]})}),s.jsx("div",{style:{transform:`translateY(${o}px)`,transition:p.current?"none":"transform 0.3s ease"},children:t})]})}},8980:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(903).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8927:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(903).Z)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},4359:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(903).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7399:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(903).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},387:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,dynamic:()=>a});var s=r(2579);let a=(0,s.createProxy)(String.raw`/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/page.tsx#dynamic`),n=(0,s.createProxy)(String.raw`/Users/sjarmak/amp-workflow-manager-v2/apps/mobile/src/app/page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[124,814,937,753],()=>r(3014));module.exports=s})();